<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Cart</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="p-4">

<h2>Your  Flower bouquets Cart</h2>

<table class="table table-bordered">
<thead>
<tr>
<th>Item</th>
<th>Price</th>
<th>Quantity</th>
<th>Total</th>
<th>Action</th>
</tr>
</thead>

<tbody id="cart-body"></tbody>
</table>

<h3>Grand Total: ₹<span id="grand-total">0</span></h3>

<script>
let cart = JSON.parse(localStorage.getItem("cart")) || [];

function renderCart() {
  const body = document.getElementById("cart-body");
  body.innerHTML = "";
  let grand = 0;

  cart.forEach((item, index) => {
    let row = document.createElement("tr");

    row.innerHTML = `
      <td>${item.name}</td>
      <td>₹${item.price}</td>

      <td>
        <button class="btn btn-sm btn-danger" onclick="decrease(${index})">−</button>
        <span class="mx-2">${item.quantity}</span>
        <button class="btn btn-sm btn-success" onclick="increase(${index})">+</button>
      </td>

      <td>₹${item.price * item.quantity}</td>

      <td>
        <button class="btn btn-sm btn-warning" onclick="removeItem(${index})">Remove</button>
      </td>
    `;

    body.appendChild(row);
    grand += item.price * item.quantity;
  });

  document.getElementById("grand-total").textContent = grand;
  localStorage.setItem("cart", JSON.stringify(cart));
}

// Increase qty
function increase(i) {
  cart[i].quantity++;
  renderCart();
}

// Decrease qty
function decrease(i) {
  if (cart[i].quantity > 1) {
    cart[i].quantity--;
  } else {
    cart.splice(i, 1); 
  }
  renderCart();
}

// Remove item
function removeItem(i) {
  cart.splice(i, 1);
  renderCart();
}

renderCart();
</script>

</body>
</html>
